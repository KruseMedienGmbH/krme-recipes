{
  "scripts": {
    "lint": [
      "Composer\\Config::disableProcessTimeout",
      "@php /var/www/html/vendor/shopware/core/DevOps/StaticAnalyze/phpstan-bootstrap.php",
      "SHOPWARE_PROJECT_ROOT=/var/www/html shopware-cli project validate --no-copy --only phpstan,stylelint,admin-twig,php-cs-fixer,prettier,eslint,rector",
      "@ludtwig-lint"
    ],
    "format-dry": [
      "SHOPWARE_PROJECT_ROOT=/var/www/html shopware-cli project format --dry-run"
    ],
    "format": [
      "SHOPWARE_PROJECT_ROOT=/var/www/html shopware-cli project format"
    ],
    "fix": [
      "SHOPWARE_PROJECT_ROOT=/var/www/html shopware-cli extension fix custom/static-plugins/Plugin --allow-non-git --only admin-twig,eslint,php-cs-fixer,prettier,rector,stylelint"
    ],
    "phpstan": [
      "Composer\\Config::disableProcessTimeout",
      "@php /var/www/html/vendor/shopware/core/DevOps/StaticAnalyze/phpstan-bootstrap.php",
      "SHOPWARE_PROJECT_ROOT=/var/www/html shopware-cli project validate --no-copy --only phpstan"
    ],
    "phpmd": [
      "@composer bin tools update --ansi",
      "./vendor-bin/tools/vendor/bin/phpmd custom/static-plugins/Plugin/src ansi rulesets.xml"
    ],
    "build": [
      "SHOPWARE_PROJECT_ROOT=/var/www/html shopware-cli extension build custom/static-plugins/Plugin"
    ],
    "prepare-push": [
      "@lint",
      "@format",
      "@fix",
      "@phpunit",
      "@build"
    ],
    "infection": [
      "@composer bin tools update --ansi",
      "./vendor/bin/infection --min-msi=48 --min-covered-msi=70 --threads=4 --coverage=coverage --skip-initial-tests"
    ],
    "phpunit": [
      "@putenv SYMFONY_DEPRECATIONS_HELPER=disabled",
      "./vendor/bin/phpunit"
    ],
    "phpunit-coverage": [
      "@putenv SYMFONY_DEPRECATIONS_HELPER=disabled",
      "@putenv COMPOSER=XDEBUG_MODE=coverage",
      "cd .. && make xdebug-on",
      "./vendor/bin/phpunit --coverage-html coverage --coverage-xml=coverage-xml --log-junit=coverage/junit.xml",
      "cd .. && make xdebug-off"
    ],
    "install-ludtwig": [
      "curl -L https://github.com/MalteJanz/ludtwig/releases/download/v0.10.0/ludtwig-0.10.0-x86_64-unknown-linux-gnu.tar.gz -o ./ludtwig-0.10.0-x86_64-unknown-linux-gnu.tar.gz",
      "tar -xzf ./ludtwig-0.10.0-x86_64-unknown-linux-gnu.tar.gz -C /var/www/html",
      "chmod +x /var/www/html/ludtwig"
    ],
    "ludtwig-lint": [
      "@install-ludtwig",
      "/var/www/html/ludtwig --config-path ./vendor/shopware/storefront/Resources/views/ludtwig-config.toml ./custom/static-plugins/Plugin/src/Resources/views/storefront"
    ],
    "ludtwig-fix": [
      "@install-ludtwig",
      "/var/www/html/ludtwig --config-path ./vendor/shopware/storefront/Resources/views/ludtwig-config.toml --fix ./custom/static-plugins/Plugin/src/Resources/views/storefront"
    ],
    "update-shopware-cli": [
      "curl -1sLf 'https://dl.cloudsmith.io/public/friendsofshopware/stable/setup.deb.sh' | sudo -E bash",
      "sudo apt install shopware-cli"
    ]
  }
}